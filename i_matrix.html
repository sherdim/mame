
<!DOCTYPE html>

<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Операции с матрицами &#8212; Практикум по математическим методам в исследовательской деятельности</title>
    
  <link rel="stylesheet" href="_static/css/index.73d71520a4ca3b99cfee5594769eaaae.css">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="_static/sphinx-book-theme.40e2e510f6b7d1648584402491bb10fe.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/book.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="_static/js/index.3da636dd464baa7582d2.js">

    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/translations.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.d31b09fe5c1d09cb49b26a786de4a05d.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="index" title="Алфавитный указатель" href="genindex.html" />
    <link rel="search" title="Поиск" href="search.html" />
    <link rel="next" title="Увеличение размерности" href="i_dim.html" />
    <link rel="prev" title="Координаты" href="i_coordinates.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="index.html">
  
  <img src="_static/logo.png" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">Практикум по математическим методам в исследовательской деятельности</h1>
  
</a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Искать в этой книге ..." aria-label="Искать в этой книге ..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <ul class="current nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="intro.html">
   Предисловие
  </a>
 </li>
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="pr_intro.html">
   Освоение рабочей среды
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="i_python.html">
     Освоение языка Python
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="i_sreda.html">
     Подготовка рабочего места
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="i_sredaonline.html">
     Онлайн-платформы
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="i_nb.html">
     Создание нового блокнота
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="i_nb_cell.html">
     Операции с ячейками
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="i_nb_str.html">
     Строки в кавычках
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="i_nb_cycle.html">
     Циклы
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="i_keyboard.html">
     Управление с клавиатуры
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="i_types.html">
     Разные типы - разное поведение!
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="i_task.html">
     Как работать с блокнотами упражнений?
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="i_rename.html">
     Как переименовать блокнот?
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="i_def.html">
     Функция
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="i_zaim.html">
     Заимствование кода
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="i_scriptwork.html">
     Выполнение практических работ на скриптовых языках
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="i_nbtips.html">
     Памятка
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="z_intro.html">
     * * *
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="pr_stohastic.html">
   Стационарные стохастические процессы
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="i_empiric.html">
     Эмпирические распределения значений
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="w_data1.html">
     ✍ Получение набора данных
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="i_hist.html">
     Построение гистограммы распределения
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="i_random.html">
     Генератор случайных чисел
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="w_random.html">
     ☑ Генерация случайных выборок
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="pr_eda.html">
   Разведочный анализ
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="i_vector.html">
     Составные типы данных
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="i_dataset.html">
     Готовые наборы данных
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="i_pairplot.html">
     Структура таблиц
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="i_demographic.html">
     Сведенья о пациентах
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="i_standart.html">
     Cтандартизация данных
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="i_turtle.html">
     Работа с таблицами
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="w_turtle.html">
     ☑ Подготовка данных
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="z_eda.html">
     * * *
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="pr_linear.html">
   Линейные модели
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="i_dataset_rt.html">
     Формирование набора данных
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="i_normality.html">
     Проверка нормальности распределения
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="i_groupmean.html">
     Групповая статистика
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="i_combine.html">
     Объединение наборов данных
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="i_anova.html">
     Вариационный анализ
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="w_granada.html">
     🗎 Сравнение выборок
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="i_logscale.html">
     Логарифмирование
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="w_modeline.html">
     🗎 Сравнение регрессионных моделей
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="i_retivo.html">
     Подбор параметров распределения
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="pr_plan.html">
   Планирование экспериментов
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="i_power.html">
     Мощность исследования
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="i_quartile.html">
     Анализ публикационного ландшафта
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="w_artana.html">
     🗎 Анализ научной статьи
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="pr_nonlinear.html">
   Нелинейные модели
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="w_data2.html">
     ✍ Получение набора данных 2
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="i_exp.html">
     Экспоненциальные рост и угасание
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="i_season.html">
     Сезонные колебания
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="i_ecg.html">
     Выделение событий в сигнале
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="i_wav.html">
     Визуализация аудиозаписи
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="i_spectral.html">
     Спектральный анализ
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="w_spec.html">
     🗎 Спектральный анализ
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="i_perehod.html">
     Переходные процессы
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="i_prognoz.html">
     Прогнозирование
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="i_gaupro.html">
     Компоненты нелинейного процесса
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="pr_struct.html">
   Структурные модели
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="i_kiss.html">
     Дистанция между строками
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="i_seq.html">
     Обнаружение нарушений в структуре
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="w_clu.html">
     🗎 Кластерный анализ
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1 current active collapsible-parent">
  <a class="reference internal" href="pr_matrix.html">
   Двумерные массивы данных
  </a>
  <ul class="current collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="i_coordinates.html">
     Координаты
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Операции с матрицами
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="i_dim.html">
     Увеличение размерности
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="i_pictu.html">
     Обработка изображений
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="w_pictu.html">
     🗎 Анализ изображения
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="pr_proba.html">
   Вероятностные модели
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="i_sexproba.html">
     Случайность - двигатель прогресса?
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="i_codon.html">
     Частоты кодонов
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="i_age_logistic.html">
     Скрининговая диагностика
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="i_epistat.html">
     Эпидемиологическая статистика
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="w_epistat.html">
     ☑ Динамика заболеваний
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="pr_qual.html">
   Квалиметрические модели
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="w_qual.html">
     🗎 Оценка качества
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="pedagogic.html">
   Заметки для преподавателей
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="references.html">
   Список литературы
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="annotation.html">
   Аннотация
  </a>
 </li>
</ul>

</nav> <!-- To handle the deprecated key -->

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Переключить навигацию" aria-controls="site-navigation"
            title="Переключить навигацию" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Загрузите эту страницу"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/i_matrix.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Скачать исходный файл" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Распечатать в PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

        <!-- Source interaction buttons -->


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" aria-label="Полноэкранный режим"
                title="Полноэкранный режим"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/sherdim/mame/gh-pages?urlpath=tree/i_matrix.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Запуск Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Содержание
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id2">
   Перемножение матриц
  </a>
 </li>
</ul>

        </nav>
        
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="id1">
<h1>Операции с матрицами<a class="headerlink" href="#id1" title="Ссылка на этот заголовок">¶</a></h1>
<p>Загрузим координаты изображения из текстового файла, в котором записаны две колонки чисел.</p>
<p>Откуда взялись числа и почему файл называется <code class="docutils literal notranslate"><span class="pre">los</span></code> см. в задаче <a href=d/Task_dataset_los.ipynb>Task_dataset_los</a>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">los</span><span class="o">=</span><span class="n">loadtxt</span><span class="p">(</span><span class="s1">&#39;d/los.csv&#39;</span><span class="p">,</span> <span class="n">skiprows</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># параметр skiprows для пропуска заголовков</span>

<span class="n">plot</span><span class="p">(</span><span class="n">los</span><span class="p">,</span><span class="s1">&#39;.&#39;</span><span class="p">);</span> <span class="n">legend</span><span class="p">((</span><span class="s1">&#39;1st&#39;</span><span class="p">,</span><span class="s1">&#39;2nd&#39;</span><span class="p">));</span> <span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;значения&#39;</span><span class="p">);</span> <span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;порядковый номер&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/i_matrix_3_0.png" src="_images/i_matrix_3_0.png" />
</div>
</div>
<p>Две колонки чисел - это координаты, поэтому отобразим расположение отдельных значений на пересечении этих координат.</p>
<p>Определим <code class="docutils literal notranslate"><span class="pre">d</span></code> как копию уже заданной переменой с загруженными данными. Мы хотим обращаться к этим же данным, но использовать короткое имя для переменной, потому что будем многократно писать его в выражениях. Фактически новых данных при этом не создается - создается еще одна ссылка с новым именем на тот же адрес в памяти.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">d</span> <span class="o">=</span> <span class="n">los</span>

<span class="n">x</span><span class="o">=</span><span class="n">d</span><span class="p">[:,</span><span class="mi">0</span><span class="p">];</span>
<span class="n">y</span><span class="o">=</span><span class="n">d</span><span class="p">[:,</span><span class="mi">1</span><span class="p">];</span>
<span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="s1">&#39;.-&#39;</span><span class="p">);</span> <span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">);</span> <span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/i_matrix_5_0.png" src="_images/i_matrix_5_0.png" />
</div>
</div>
<p>Допустим, что исходные значения в <code class="docutils literal notranslate"><span class="pre">мм</span></code>. Чтобы перевести в <code class="docutils literal notranslate"><span class="pre">м</span></code>, разделим на 1000, или что то же самое - умножим на 0.001 .
Ясно, что при переводе <code class="docutils literal notranslate"><span class="pre">мм</span></code> в <code class="docutils literal notranslate"><span class="pre">м</span></code> - картинка не меняется. Меняется лишь шкала по осям координат.</p>
<p>Здесь и далее будем задавать одинаковые размеры по осям координат, чтобы имитировать расположение точек на реальной плоскости.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">d</span> <span class="o">=</span> <span class="n">d</span><span class="o">*</span><span class="p">[</span><span class="mf">0.001</span><span class="p">]</span>
<span class="n">x</span><span class="o">=</span><span class="n">d</span><span class="p">[:,</span><span class="mi">0</span><span class="p">];</span> <span class="n">y</span><span class="o">=</span><span class="n">d</span><span class="p">[:,</span><span class="mi">1</span><span class="p">];</span> <span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="s1">&#39;.&#39;</span><span class="p">);</span> <span class="n">axis</span><span class="p">(</span><span class="s1">&#39;equal&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/i_matrix_7_0.png" src="_images/i_matrix_7_0.png" />
</div>
</div>
<p>Если мы умножим матрицу на массив (вектор) из двух чисел, то каждая из колонок умножится на свое число. Например, мы можем «сжимать» данные вдоль одной оси, не трогая при этом вторую.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">d_</span> <span class="o">=</span> <span class="n">d</span><span class="o">*</span><span class="p">([</span><span class="o">.</span><span class="mi">25</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">])</span>
<span class="n">x</span><span class="o">=</span><span class="n">d_</span><span class="p">[:,</span><span class="mi">0</span><span class="p">];</span> <span class="n">y</span><span class="o">=</span><span class="n">d_</span><span class="p">[:,</span><span class="mi">1</span><span class="p">];</span> <span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="s1">&#39;.&#39;</span><span class="p">);</span> <span class="n">axis</span><span class="p">(</span><span class="s1">&#39;square&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/i_matrix_9_0.png" src="_images/i_matrix_9_0.png" />
</div>
</div>
<p>Попробуйте эффект от шкалирования в стационарных координатах.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@interact</span><span class="p">(</span><span class="n">k1</span><span class="o">=</span><span class="p">(</span><span class="o">.</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="o">.</span><span class="mi">1</span><span class="p">),</span> <span class="n">k2</span><span class="o">=</span><span class="p">(</span><span class="o">.</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="o">.</span><span class="mi">1</span><span class="p">))</span>
<span class="k">def</span> <span class="nf">_scale</span><span class="p">(</span><span class="n">k1</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">k2</span><span class="o">=</span><span class="mf">1.0</span><span class="p">):</span>
    <span class="n">d_</span> <span class="o">=</span> <span class="n">d</span><span class="o">*</span><span class="p">([</span><span class="n">k1</span><span class="p">,</span> <span class="n">k2</span><span class="p">])</span>
    <span class="n">x</span><span class="o">=</span><span class="n">d_</span><span class="p">[:,</span><span class="mi">0</span><span class="p">];</span> <span class="n">y</span><span class="o">=</span><span class="n">d_</span><span class="p">[:,</span><span class="mi">1</span><span class="p">];</span> 
    <span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="s1">&#39;.-&#39;</span><span class="p">);</span> <span class="n">axis</span><span class="p">(</span><span class="s1">&#39;square&#39;</span><span class="p">);</span><span class="n">xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">100</span><span class="p">);</span><span class="n">ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">100</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/i_matrix_11_0.png" src="_images/i_matrix_11_0.png" />
</div>
</div>
<p>Должно быть ясно, что для получения определенной пропорции достаточно изменить один из коэффициентов.</p>
<p>Согласованное изменение коэффициентов равнозначно изменению единиц шкалы без изменения пропорций.
Например, если размеры в см разделить примерно на 4, то получим размеры в дюймах.</p>
<div class="section" id="id2">
<h2>Перемножение матриц<a class="headerlink" href="#id2" title="Ссылка на этот заголовок">¶</a></h2>
<p>Перемножение - главная операция линейной алгебры. В формулах обозначается точкой. Функция называется <code class="docutils literal notranslate"><span class="pre">dot()</span></code>.</p>
<div class="math notranslate nohighlight">
\[ A \cdot B = С \]</div>
<p>Результаты умножения каждой колонки из <span class="math notranslate nohighlight">\(A\)</span> на коэффициент из каждой колонки <span class="math notranslate nohighlight">\(B\)</span> суммируются с получением колонки в итоговой матрице <span class="math notranslate nohighlight">\(C\)</span>. Получается, что первая строчка <span class="math notranslate nohighlight">\(B\)</span> определяет вклад иксов в итоговые колонки, а вторая строчка - вклад игриков.</p>
<p>Мы можем смешивать вклад обеих колонок в разных пропорциях. Если вклад одной из колонок нам не нужен - мы его обнуляем (перемножаем на 0).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@interact</span><span class="p">(</span><span class="n">k1</span><span class="o">=</span><span class="p">(</span><span class="o">.</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="o">.</span><span class="mi">1</span><span class="p">),</span> <span class="n">k2</span><span class="o">=</span><span class="p">(</span><span class="o">.</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="o">.</span><span class="mi">1</span><span class="p">),</span> <span class="n">k3</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">.</span><span class="mi">1</span><span class="p">),</span> <span class="n">k4</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">.</span><span class="mi">1</span><span class="p">))</span>
<span class="k">def</span> <span class="nf">_scale</span><span class="p">(</span><span class="n">k1</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,</span> <span class="n">k2</span><span class="o">=</span><span class="mf">3.0</span><span class="p">,</span> <span class="n">k3</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">k4</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
    <span class="n">R</span><span class="o">=</span><span class="n">array</span><span class="p">([[</span><span class="n">k1</span><span class="p">,</span> <span class="n">k4</span><span class="p">],</span> <span class="p">[</span><span class="n">k3</span><span class="p">,</span> <span class="n">k2</span><span class="p">]])</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">R</span><span class="p">)</span>
    <span class="n">d_</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">R</span><span class="p">)</span>
    <span class="n">x</span><span class="o">=</span><span class="n">d_</span><span class="p">[:,</span><span class="mi">0</span><span class="p">];</span> <span class="n">y</span><span class="o">=</span><span class="n">d_</span><span class="p">[:,</span><span class="mi">1</span><span class="p">];</span> 
    <span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="s1">&#39;.-&#39;</span><span class="p">);</span> <span class="n">axis</span><span class="p">(</span><span class="s1">&#39;square&#39;</span><span class="p">);</span><span class="n">xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">100</span><span class="p">);</span><span class="n">ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">100</span><span class="p">);</span>
    
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[[ 1.8  0.9]
 [-0.8  2. ]]
</pre></div>
</div>
<img alt="_images/i_matrix_14_1.png" src="_images/i_matrix_14_1.png" />
</div>
</div>
<p>Коэффициенты по диагонали (k1, k2) ведут себя точно также, как отдельные множители для каждой из колонок в предыдущих примерах.</p>
<p>Если менять коэффициенты k3 или k4 , то рисунок наклоняется.
А если их изменять в противоположных направлениях - рисунок вращается!!!</p>
<p>Чтобы понять, что происходит, вспомним тригонометрию…
При вращении (движении точки по окружности) изменяется один параметр - угол <span class="math notranslate nohighlight">\(\alpha\)</span>. А координаты точки при этом равны <span class="math notranslate nohighlight">\(sin(\alpha)\)</span> и <span class="math notranslate nohighlight">\(cos(\alpha)\)</span>.</p>
<p>Например, чтобы повернуть все точки матрицы на 90 градусов (в радианах <span class="math notranslate nohighlight">\(\frac{\pi}{2}\)</span>), надо
от <span class="math notranslate nohighlight">\(x\)</span> отнять <span class="math notranslate nohighlight">\(cos(0)\)</span> и прибавить <span class="math notranslate nohighlight">\(cos(\frac{\pi}{2})\)</span> (из 1 сделать 0),
а из <span class="math notranslate nohighlight">\(y\)</span> отнять <span class="math notranslate nohighlight">\(sin(0)\)</span> и прибавить <span class="math notranslate nohighlight">\(sin(\frac{\pi}{2})\)</span> (из 0 сделать 1).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alpha</span> <span class="o">=</span> <span class="n">pi</span><span class="o">/</span><span class="mi">2</span>
<span class="n">d_</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">dot</span><span class="p">([[</span><span class="n">cos</span><span class="p">(</span><span class="n">alpha</span><span class="p">),</span> <span class="n">sin</span><span class="p">(</span><span class="n">alpha</span><span class="p">)],</span> 
            <span class="p">[</span><span class="o">-</span><span class="n">sin</span><span class="p">(</span><span class="n">alpha</span><span class="p">),</span> <span class="n">cos</span><span class="p">(</span><span class="n">alpha</span><span class="p">)]])</span>
<span class="n">x</span><span class="o">=</span><span class="n">d_</span><span class="p">[:,</span><span class="mi">0</span><span class="p">];</span> <span class="n">y</span><span class="o">=</span><span class="n">d_</span><span class="p">[:,</span><span class="mi">1</span><span class="p">];</span> <span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="s1">&#39;.-&#39;</span><span class="p">);</span> <span class="n">axis</span><span class="p">(</span><span class="s1">&#39;square&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/i_matrix_16_0.png" src="_images/i_matrix_16_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@interact</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mf">180.</span><span class="p">,</span><span class="mf">360.</span><span class="p">,</span><span class="mf">5.</span><span class="p">))</span>
<span class="k">def</span> <span class="nf">_scale</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
    <span class="n">ro</span><span class="o">=</span><span class="n">deg2rad</span><span class="p">(</span><span class="n">alpha</span><span class="p">)</span>
    <span class="n">R</span><span class="o">=</span><span class="n">array</span><span class="p">([[</span><span class="n">cos</span><span class="p">(</span><span class="n">ro</span><span class="p">),</span> <span class="n">sin</span><span class="p">(</span><span class="n">ro</span><span class="p">)],</span> 
            <span class="p">[</span><span class="o">-</span><span class="n">sin</span><span class="p">(</span><span class="n">ro</span><span class="p">),</span> <span class="n">cos</span><span class="p">(</span><span class="n">ro</span><span class="p">)]])</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">R</span><span class="p">)</span>
    <span class="n">d_</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">R</span><span class="p">)</span>
    <span class="n">x</span><span class="o">=</span><span class="n">d_</span><span class="p">[:,</span><span class="mi">0</span><span class="p">];</span> <span class="n">y</span><span class="o">=</span><span class="n">d_</span><span class="p">[:,</span><span class="mi">1</span><span class="p">];</span> 
    <span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="s1">&#39;.-&#39;</span><span class="p">);</span> <span class="n">axis</span><span class="p">(</span><span class="s1">&#39;equal&#39;</span><span class="p">);</span><span class="c1">#xlim(0,100);ylim(0,100);</span>
    <span class="n">title</span><span class="p">(</span><span class="s1">&#39;Вращение на </span><span class="si">{}</span><span class="s1"> градусов&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">alpha</span><span class="p">))</span>
    
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[[-0.8660254  0.5      ]
 [-0.5       -0.8660254]]
</pre></div>
</div>
<img alt="_images/i_matrix_17_1.png" src="_images/i_matrix_17_1.png" />
</div>
</div>
<p>Обратите внимание на коэффициенты при 60, 45, 90, -90, 180, 360 градусах. Бегунок можно двигать стрелочками, если мышкой неудобно.</p>
<p>Вращение на 90 градусов фактически равно замене местами <span class="math notranslate nohighlight">\(x\)</span> и <span class="math notranslate nohighlight">\(y\)</span> и замене знака у <span class="math notranslate nohighlight">\(x\)</span>.</p>
<p>Если заменить координаты местами и не заменить знак, то будет «зеркальное» отображение исходной картинки относительно биссектрисы угла.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="o">=</span><span class="n">d</span><span class="p">[:,</span><span class="mi">1</span><span class="p">];</span> <span class="n">y</span><span class="o">=</span><span class="n">d</span><span class="p">[:,</span><span class="mi">0</span><span class="p">];</span> 
<span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="s1">&#39;.-&#39;</span><span class="p">);</span> <span class="n">axis</span><span class="p">(</span><span class="s1">&#39;equal&#39;</span><span class="p">);</span>
<span class="n">plot</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">40</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">40</span><span class="p">],</span> <span class="s1">&#39;r:&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/i_matrix_19_0.png" src="_images/i_matrix_19_0.png" />
</div>
</div>
<p>Замена знака у <span class="math notranslate nohighlight">\(x\)</span> и <span class="math notranslate nohighlight">\(y\)</span> соответствует вращению вокруг начала координат на 180 градусов.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="o">=</span><span class="n">d</span><span class="p">[:,</span><span class="mi">0</span><span class="p">];</span> <span class="n">y</span><span class="o">=</span><span class="n">d</span><span class="p">[:,</span><span class="mi">1</span><span class="p">];</span>
<span class="n">plot</span><span class="p">(</span><span class="o">-</span><span class="n">x</span><span class="p">,</span><span class="o">-</span><span class="n">y</span><span class="p">,</span><span class="s1">&#39;.-&#39;</span><span class="p">);</span> <span class="n">axis</span><span class="p">(</span><span class="s1">&#39;equal&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/i_matrix_21_0.png" src="_images/i_matrix_21_0.png" />
</div>
</div>
<blockquote>
<div><p>Поправьте элементы матрицы вращения <span class="math notranslate nohighlight">\(R\)</span> так, чтобы изображение лося было правдоподобным, таким, каким его видели жители Урала с вершины горы, когда создавали.</p>
</div></blockquote>
<p>Критерий успеха: рога торчат вертикально, спина идет горизонтально.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">R</span><span class="o">=</span><span class="n">array</span><span class="p">([[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">.</span><span class="mi">5</span><span class="p">],</span> 
         <span class="p">[</span><span class="o">.</span><span class="mi">25</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]])</span>
<span class="n">d_</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">R</span><span class="p">)</span>
<span class="n">x</span><span class="o">=</span><span class="n">d_</span><span class="p">[:,</span><span class="mi">0</span><span class="p">];</span> <span class="n">y</span><span class="o">=</span><span class="n">d_</span><span class="p">[:,</span><span class="mi">1</span><span class="p">];</span> <span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="s1">&#39;.-&#39;</span><span class="p">);</span> <span class="n">axis</span><span class="p">(</span><span class="s1">&#39;equal&#39;</span><span class="p">);</span>
<span class="nb">print</span><span class="p">(</span><span class="n">R</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[[-1.    0.5 ]
 [ 0.25 -1.  ]]
</pre></div>
</div>
<img alt="_images/i_matrix_23_1.png" src="_images/i_matrix_23_1.png" />
</div>
</div>
<p>Вывод: сочетание взаимных влияний двух показателей может оказывать эффекты вращения и наклона на паттерн расположения точек в пространстве.</p>
<p>При этом используются простые операции - умножения и сложения. Результат (повернутая матрица) - массив чисел той же размерности с сохраненным взаимным расположением точек.</p>
<p>Например, координаты точки из передней ноги в результате любых поворотов и искажений будут  находится в промежутке между координатами морды и задней ноги.</p>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="i_coordinates.html" title="previous page">Координаты</a>
    <a class='right-next' id="next-link" href="i_dim.html" title="next page">Увеличение размерности</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Дмитрий Н. Щербина<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="_static/js/index.3da636dd464baa7582d2.js"></script>


    
  </body>
</html>